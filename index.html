<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Medical Wordle</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background-color: #f4f4f4;
    }
    h1 {
        color: #333;
    }
    #speciality-selection {
        margin: 20px;
    }
    .speciality-btn {
        padding: 10px 15px;
        margin: 5px;
        cursor: pointer;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
    }
    .speciality-btn:hover {
        background-color: #0056b3;
    }
    #game-board {
        display: grid;
        grid-template-rows: repeat(6, 50px);
        gap: 5px;
        justify-content: center;
        margin-top: 20px;
    }
    .row {
        display: grid;
        grid-template-columns: repeat(5, 50px);
        gap: 5px;
    }
    .tile {
        width: 50px;
        height: 50px;
        background-color: white;
        border: 2px solid #ccc;
        text-transform: uppercase;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        font-weight: bold;
    }
    .correct {
        background-color: #6aaa64;
        color: white;
    }
    .present {
        background-color: #c9b458;
        color: white;
    }
    .absent {
        background-color: #787c7e;
        color: white;
    }
</style>
</head>
<body>

<h1>Medical Wordle</h1>
<div id="speciality-selection">
    <p>Select Speciality:</p>
    <button class="speciality-btn" onclick="chooseSpeciality('medicine')">Medicine</button>
    <button class="speciality-btn" onclick="chooseSpeciality('orthopaedics')">Orthopaedics</button>
    <button class="speciality-btn" onclick="chooseSpeciality('neurology')">Neurology</button>
    <button class="speciality-btn" onclick="chooseSpeciality('cardiology')">Cardiology</button>
    <button class="speciality-btn" onclick="chooseSpeciality('pulmonology')">Pulmonology</button>
</div>

<div id="game-board"></div>
<p id="message"></p>
<input type="text" id="guess-input" maxlength="5" style="display:none;" placeholder="Enter 5-letter word" onkeydown="if(event.key==='Enter'){submitGuess();}">

<script>
let specialityWords = {
    medicine: ["fever", "acute", "ulcer", "viral", "cough", "tumor"],
    orthopaedics: ["femur", "joint", "brace", "screw", "plate", "tibia", "spine", "graft"],
    neurology: ["brain", "nerve", "spasm", "focal", "tonic", "glial"],
    cardiology: ["aorta", "valve", "pulse", "shock", "lumen"],
    pulmonology: ["lungs", "cilia", "cough", "mucus"]
};

let currentWordList = [];
let correctWord = "";
let currentRow = 0;
const maxRows = 6;

function chooseSpeciality(speciality) {
    currentWordList = specialityWords[speciality];
    correctWord = currentWordList[Math.floor(Math.random() * currentWordList.length)];
    console.log("Correct Word:", correctWord); // Debug
    document.getElementById("speciality-selection").style.display = "none";
    document.getElementById("guess-input").style.display = "inline-block";
    createBoard();
}

function createBoard() {
    const board = document.getElementById("game-board");
    board.innerHTML = "";
    for (let i = 0; i < maxRows; i++) {
        const row = document.createElement("div");
        row.classList.add("row");
        for (let j = 0; j < 5; j++) {
            const tile = document.createElement("div");
            tile.classList.add("tile");
            row.appendChild(tile);
        }
        board.appendChild(row);
    }
}

function submitGuess() {
    const guessInput = document.getElementById("guess-input");
    const guess = guessInput.value.toLowerCase();
    if (guess.length !== 5) {
        showMessage("Word must be 5 letters!");
        return;
    }
    if (!currentWordList.includes(guess)) {
        showMessage("Word not in list!");
        return;
    }
    const rowTiles = document.getElementsByClassName("row")[currentRow].children;
    for (let i = 0; i < 5; i++) {
        rowTiles[i].textContent = guess[i];
        if (guess[i] === correctWord[i]) {
            rowTiles[i].classList.add("correct");
        } else if (correctWord.includes(guess[i])) {
            rowTiles[i].classList.add("present");
        } else {
            rowTiles[i].classList.add("absent");
        }
    }

    if (guess === correctWord) {
        showMessage("🎉 Correct! You win!");
        guessInput.disabled = true;
        return;
    }

    currentRow++;

    // If last guess, show answer automatically
    if (currentRow === maxRows) {
        showMessage(`❌ Game Over! The correct word was: ${correctWord.toUpperCase()}`);
        guessInput.disabled = true;
    }

    guessInput.value = "";
}

function showMessage(msg) {
    document.getElementById("message").textContent = msg;
}
</script>

</body>
</html>
